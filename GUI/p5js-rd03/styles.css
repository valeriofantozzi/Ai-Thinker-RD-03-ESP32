*{box-sizing:border-box}
:root{--sidebar-w:320px;--footer-h:33vh;--panel-bg:#171717;--border:#222;--text:#e6e6e6;--muted:#9ca3af}
html,body,#app{height:100%;margin:0}
body{font:14px/1.4 -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Arial;color:var(--text);background:#111}
#app{display:grid;grid-template-columns:var(--sidebar-w) 1fr;grid-template-rows:1fr var(--footer-h);grid-template-areas:
  'sidebar main'
  'footer  footer';}
#sidebar{grid-area:sidebar;background:var(--panel-bg);border-right:1px solid var(--border);display:flex;flex-direction:column;min-width:220px}
#main{grid-area:main;position:relative;overflow:hidden}
#canvas-container{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}
#footer{grid-area:footer;background:var(--panel-bg);border-top:1px solid var(--border);display:flex;flex-direction:column;min-height:36px}
.panel-header{display:flex;align-items:center;gap:8px;padding:8px 12px;border-bottom:1px solid var(--border)}
.panel-header h2{font-size:14px;margin:0}
.panel-body{padding:8px;overflow:auto}
.toggle{margin-left:auto;background:#0ea5e9;color:#fff;border:none;border-radius:6px;padding:4px 8px;cursor:pointer}
.control-row{display:flex;gap:12px;align-items:center;margin:8px 0}
.status-row{margin-top:6px;color:var(--muted)}
button{background:#0ea5e9;color:#fff;border:none;border-radius:6px;padding:8px 12px;cursor:pointer}
button:hover{background:#0284c7}
select,input[type=number]{background:#0f0f0f;border:1px solid #333;color:var(--text);border-radius:4px;padding:6px}
pre#info{margin:8px 0 0;padding:8px;border:1px solid var(--border);background:#0f0f0f;min-height:80px;max-height:25vh}
pre#log{margin:0;padding:8px;min-height:80px;height:100%;white-space:pre-wrap}

/* Collapsed states */
#sidebar.collapsed{width:44px;min-width:44px}
#sidebar.collapsed .panel-body{display:none}
#sidebar.collapsed .panel-header h2{display:none}

#footer.collapsed{height:36px}
#footer.collapsed .panel-body{display:none}

@media (max-width: 900px){
  :root{--sidebar-w:240px}
}


/* Grid overrides when collapsed */
#app.sidebar-collapsed{grid-template-columns:44px 1fr}
#app.footer-collapsed{grid-template-rows:1fr 36px}
